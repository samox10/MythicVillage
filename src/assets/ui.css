/* === UI GLOBAL: MODAIS, CARDS E BOTÕES === */

/* Overlay do Modal */
.modal-overlay {
  position: fixed; inset: 0; background: rgba(0, 0, 0, 0.9);
  display: flex; align-items: center; justify-content: center; z-index: 1000;
  padding: 10px; /* Garante um respiro nas bordas no mobile */
  overflow: hidden;
}

/* === MODAL ESTILO CARTA (SCANNER) === */
.bio-card {
  /* CORREÇÃO DO BUG MOBILE: Usar max-width em vez de width fixa */
  width: 100%; 
  max-width: 620px; 
  background: #0f172a;
  border: 1px solid var(--rk-c, #64748b);
  display: flex; box-shadow: 0 0 60px rgba(0,0,0,0.9);
  font-family: 'Chakra Petch', sans-serif;
  position: relative; overflow: hidden;
  animation: slideUp 0.3s ease-out;
}
.bio-card::before {
  content: ''; position: absolute; top: 0; left: 0; width: 4px; height: 100%;
  background: var(--rk-c, #64748b); z-index: 2; box-shadow: 0 0 10px var(--rk-c, #64748b);
}
/* CORREÇÃO ANIMAÇÃO: Reduzi o deslocamento inicial para evitar scroll horizontal */
@keyframes slideLeft { from { transform: translateX(10px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }

.bio-data-panel { flex: 1; padding: 30px; display: flex; flex-direction: column; gap: 25px; z-index: 1; }
.bio-header { display: flex; flex-direction: column; gap: 2px; border-bottom: 1px solid #334155; padding-bottom: 15px; }
.bio-rank { font-size: 10px; color: var(--rk-c); font-weight: 900; letter-spacing: 2px; text-transform: uppercase; }
.bio-name { margin: 0; font-size: 26px; color: #fff; text-transform: uppercase; font-weight: 700; line-height: 1; text-shadow: 0 2px 10px rgba(0,0,0,0.5); }
.bio-job { font-size: 11px; color: #64748b; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; margin-top: 4px; }

.bio-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
.bg-item { 
  background: rgba(2, 6, 23, 0.6); padding: 10px 14px; border-radius: 4px; 
  border: 1px solid #334155; display: flex; flex-direction: column; gap: 4px; transition: 0.2s;
}
.bg-item .l { font-size: 9px; color: #64748b; font-weight: 700; text-transform: uppercase; }
.bg-item .v { font-size: 14px; font-weight: 700; color: #e2e8f0; }

.bio-btn {
  margin-top: auto; padding: 14px; background: transparent; 
  border: 1px solid var(--rk-c); color: var(--rk-c);
  font-weight: 900; text-transform: uppercase; cursor: pointer; transition: 0.2s;
  letter-spacing: 1px; font-family: 'Chakra Petch', sans-serif;
}
.bio-btn:hover { background: var(--rk-c); color: #000; box-shadow: 0 0 15px var(--rk-c); }

.bio-visual-panel {
  width: 240px; position: relative; background: #000;
  clip-path: polygon(15% 0, 100% 0, 100% 100%, 0% 100%); margin-left: -25px;
  box-shadow: inset 30px 0 40px #0f172a; flex-shrink: 0; /* Impede de amassar */
}
.bio-img { width: 100%; height: 100%; object-fit: cover; object-position: top; }
.bio-overlay {
  position: absolute; inset: 0; 
  background: linear-gradient(90deg, #0f172a 0%, #0f172a 20%, rgba(15, 23, 42, 0.8) 45%, rgba(15, 23, 42, 0.2) 70%, transparent 100%);
  pointer-events: none; z-index: 10;
}
.bio-tech-lines {
  position: absolute; inset: 0;
  background-image: repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(255,255,255,0.03) 3px);
  pointer-events: none;
}

/* === MODAL TÁTICO (PROBABILIDADES) === */
.tactical-card {
  /* CORREÇÃO DO BUG MOBILE */
  width: 100%; 
  max-width: 600px; 
  background: #1e293b; border: 1px solid #334155;
  box-shadow: 0 0 40px rgba(0,0,0,0.8); border-radius: 6px;
  display: flex; flex-direction: column; overflow: hidden; font-family: 'Chakra Petch', sans-serif;
}
.tc-header { background: #0f172a; padding: 10px 15px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #334155; }
.tc-title { font-size: 12px; font-weight: 700; color: #94a3b8; letter-spacing: 1px; }
.tc-close { background: none; border: none; color: #64748b; font-weight: bold; cursor: pointer; }

/* === MODO PERIGO === */
.bio-card.danger-mode { border-color: #ef4444; box-shadow: 0 0 30px rgba(239, 68, 68, 0.2); }
.warning-box {
  background: rgba(239, 68, 68, 0.1); border: 1px solid #ef4444; padding: 10px;
  border-radius: 4px; display: flex; gap: 10px; align-items: center;
  font-size: 11px; color: #fca5a5; margin-bottom: 10px;
}
.danger-actions { display: flex; gap: 15px; margin-top: auto; }
.t-btn {
  flex: 1; padding: 15px; font-family: 'Chakra Petch', sans-serif; font-weight: 700;
  font-size: 12px; letter-spacing: 1px; cursor: pointer; border: 1px solid;
  transition: all 0.2s; text-transform: uppercase;
  clip-path: polygon(10px 0, 100% 0, 100% calc(100% - 10px), calc(100% - 10px) 100%, 0 100%, 0 10px);
}
.btn-cancel { background: #0f172a; border-color: #475569; color: #94a3b8; }
.btn-cancel:hover { background: #1e293b; border-color: #94a3b8; color: #fff; }
.btn-confirm { background: rgba(239, 68, 68, 0.1); border-color: #ef4444; color: #ef4444; }
.btn-confirm:hover { background: #ef4444; color: #000; box-shadow: 0 0 20px rgba(239, 68, 68, 0.6); }

/* === MODAL DE ERRO === */
.error-card {
  width: 90%; max-width: 400px; border: 1px solid #ef4444; background: #1e293b;       
  box-shadow: 0 0 30px rgba(0, 0, 0, 0.8); position: relative;
}
.error-card::before {
  content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 2px;
  background: #ef4444; box-shadow: 0 0 10px #ef4444;
}
.error-header { background: #0f172a; border-bottom: 1px solid #334155; padding: 12px 15px; }
.error-body { padding: 30px 20px; text-align: center; color: #cbd5e1; font-size: 14px; line-height: 1.5; white-space: pre-line; }
.error-footer { padding: 15px; background: #0f172a; display: flex; justify-content: center; border-top: 1px solid #334155; }
.btn-ok {
  min-width: 120px; padding: 10px 20px; background: transparent; color: #ef4444; border: 1px solid #ef4444;
  font-family: 'Chakra Petch', sans-serif; font-weight: 700; font-size: 12px; cursor: pointer;
  transition: all 0.2s; text-transform: uppercase; letter-spacing: 1px;
}
.btn-ok:hover { background: #ef4444; color: #fff; box-shadow: 0 0 15px rgba(239, 68, 68, 0.4); }

/* Mobile Adaptations */
@media (max-width: 600px) {
  .bio-card { 
     /* Flexibilidade para mobile */
     flex-direction: column-reverse; 
     max-height: 90vh; 
     overflow-y: auto; 
  }
  .bio-visual-panel { width: 100%; height: 200px; margin-left: 0; margin-bottom: -2px; clip-path: polygon(0 0, 100% 0, 100% 85%, 0% 100%); box-shadow: inset 0 -40px 60px #0f172a; }
  .bio-overlay { background: linear-gradient(to bottom, transparent 0%, rgba(15, 23, 42, 0.4) 50%, #0f172a 90%, #0f172a 100%); }
  .bio-data-panel { padding: 20px; gap: 15px; background: #0f172a; }
  .bio-grid { gap: 8px; }
  
  .tactical-card { max-height: 80vh; overflow-y: auto; margin: 0 auto; }
}